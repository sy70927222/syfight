<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>顾里°</title>
  <meta name="author" content="Smith°" />

  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  
  <meta property="og:site_name" content="顾里°" />

  
  

  
    <meta property="og:image" content="" />
  

  
  <link href="/syfight/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/syfight/atom.xml" title="顾里°" type="application/atom+xml">
  <link rel="stylesheet" href="/syfight/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/syfight/css/miss.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/syfight/layui/css/layui.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->


</head>


<body>
<div id="con">
  <aside id="sidebar" class="site-tree">
  <div id="head">

</div>

  <ul id="nav" class="layui-nav layui-nav-tree layui-bg-cyan layui-inline" lay-filter="demo">
    <li class="layui-nav-item">
        <a href="/syfight"><i class="layui-icon">&#xe68e;</i>首页</a>
    </li>
    <li class="layui-nav-item">
        <a href="/syfight/archives"><i class="layui-icon">&#xe622;</i>档案</a>
    </li>
    <li class="layui-nav-item">
        <a href="/syfight/images"><i class="layui-icon">&#xe60d;</i>相册</a>
    </li>
</ul>


</aside>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/syfight/">顾里°</a></h1>
  <h2><a href="/syfight/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/syfight">首页</a></li>
    
      <li><a href="/syfight/archives">档案</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="site-content"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-11-13T02:02:00.000Z"><a href="/syfight/2017/11/13/游呗之旅新手帮助/">2017-11-13</a></time>
      
      
  
    <h1 class="title"><a href="/syfight/2017/11/13/游呗之旅新手帮助/">游呗之旅新手帮助</a></h1>
  

    </header>
    <div class="entry">
      
        <h5 id="第一次登录"><a href="#第一次登录" class="headerlink" title="第一次登录"></a>第一次登录</h5><p>公众号页面，点击【游呗之旅】菜单，进入H5应用页面，选择登录</p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-11-08T02:48:00.000Z"><a href="/syfight/2017/11/08/abc/">2017-11-08</a></time>
      
      
  
    <h1 class="title"><a href="/syfight/2017/11/08/abc/">java20个有用的程序片段</a></h1>
  

    </header>
    <div class="entry">
      
        <h5 id="1-字符串有整型的相互转换"><a href="#1-字符串有整型的相互转换" class="headerlink" title="1. 字符串有整型的相互转换"></a>1. 字符串有整型的相互转换</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">String a = String.valueOf(2);   //integer to numeric string  </div><div class="line">int i = Integer.parseInt(a); //numeric string to an int</div></pre></td></tr></table></figure>
<h5 id="2-向文件末尾添加内容"><a href="#2-向文件末尾添加内容" class="headerlink" title="2. 向文件末尾添加内容"></a>2. 向文件末尾添加内容</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">BufferedWriter out = null;  </div><div class="line">try &#123;  </div><div class="line">    out = new BufferedWriter(new FileWriter(”filename”, true));  </div><div class="line">    out.write(”aString”);  </div><div class="line">&#125; catch (IOException e) &#123;  </div><div class="line">    // error processing code  </div><div class="line">&#125; finally &#123;  </div><div class="line">    if (out != null) &#123;  </div><div class="line">        out.close();  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="3-得到当前方法的名字-b-size"><a href="#3-得到当前方法的名字-b-size" class="headerlink" title="3. 得到当前方法的名字[/b][/size]"></a>3. 得到当前方法的名字[/b][/size]</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String methodName = Thread.currentThread().getStackTrace()[1].getMethodName();</div></pre></td></tr></table></figure>
<h5 id="4-转字符串到日期"><a href="#4-转字符串到日期" class="headerlink" title="4. 转字符串到日期"></a>4. 转字符串到日期</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">java.util.Date = java.text.DateFormat.getDateInstance().parse(date String);</div><div class="line">或者是：</div><div class="line"></div><div class="line">SimpleDateFormat format = new SimpleDateFormat( &quot;dd.MM.yyyy&quot; );  </div><div class="line">Date date = format.parse( myString );</div></pre></td></tr></table></figure>
<h5 id="5-使用JDBC链接Oracle"><a href="#5-使用JDBC链接Oracle" class="headerlink" title="5. 使用JDBC链接Oracle"></a>5. 使用JDBC链接Oracle</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">public class OracleJdbcTest  </div><div class="line">&#123;  </div><div class="line">    String driverClass = &quot;oracle.jdbc.driver.OracleDriver&quot;;  </div><div class="line"></div><div class="line">    Connection con;  </div><div class="line"></div><div class="line">    public void init(FileInputStream fs) throws ClassNotFoundException, SQLException, FileNotFoundException, IOException  </div><div class="line">    &#123;  </div><div class="line">        Properties props = new Properties();  </div><div class="line">        props.load(fs);  </div><div class="line">        String url = props.getProperty(&quot;db.url&quot;);  </div><div class="line">        String userName = props.getProperty(&quot;db.user&quot;);  </div><div class="line">        String password = props.getProperty(&quot;db.password&quot;);  </div><div class="line">        Class.forName(driverClass);  </div><div class="line"></div><div class="line">        con=DriverManager.getConnection(url, userName, password);  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    public void fetch() throws SQLException, IOException  </div><div class="line">    &#123;  </div><div class="line">        PreparedStatement ps = con.prepareStatement(&quot;select SYSDATE from dual&quot;);  </div><div class="line">        ResultSet rs = ps.executeQuery();  </div><div class="line"></div><div class="line">        while (rs.next())  </div><div class="line">        &#123;  </div><div class="line">            // do the thing you do  </div><div class="line">        &#125;  </div><div class="line">        rs.close();  </div><div class="line">        ps.close();  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    public static void main(String[] args)  </div><div class="line">    &#123;  </div><div class="line">        OracleJdbcTest test = new OracleJdbcTest();  </div><div class="line">        test.init();  </div><div class="line">        test.fetch();  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="6-把-Java-util-Date-转成-sql-Date"><a href="#6-把-Java-util-Date-转成-sql-Date" class="headerlink" title="6. 把 Java util.Date 转成 sql.Date"></a>6. 把 Java util.Date 转成 sql.Date</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">java.util.Date utilDate = new java.util.Date();  </div><div class="line">java.sql.Date sqlDate = new java.sql.Date(utilDate.getTime());</div></pre></td></tr></table></figure>
<h5 id="7-使用NIO进行快速的文件拷贝"><a href="#7-使用NIO进行快速的文件拷贝" class="headerlink" title="7. 使用NIO进行快速的文件拷贝"></a>7. 使用NIO进行快速的文件拷贝</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">public static void fileCopy( File in, File out )  </div><div class="line">            throws IOException  </div><div class="line">    &#123;  </div><div class="line">        FileChannel inChannel = new FileInputStream( in ).getChannel();  </div><div class="line">        FileChannel outChannel = new FileOutputStream( out ).getChannel();  </div><div class="line">        try </div><div class="line">        &#123;  </div><div class="line">//          inChannel.transferTo(0, inChannel.size(), outChannel);      // original -- apparently has trouble copying large files on Windows  </div><div class="line"></div><div class="line">            // magic number for Windows, 64Mb - 32Kb)  </div><div class="line">            int maxCount = (64 * 1024 * 1024) - (32 * 1024);  </div><div class="line">            long size = inChannel.size();  </div><div class="line">            long position = 0;  </div><div class="line">            while ( position &lt; size )  </div><div class="line">            &#123;  </div><div class="line">               position += inChannel.transferTo( position, maxCount, outChannel );  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">        finally </div><div class="line">        &#123;  </div><div class="line">            if ( inChannel != null )  </div><div class="line">            &#123;  </div><div class="line">               inChannel.close();  </div><div class="line">            &#125;  </div><div class="line">            if ( outChannel != null )  </div><div class="line">            &#123;  </div><div class="line">                outChannel.close();  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h5 id="8-创建图片的缩略图"><a href="#8-创建图片的缩略图" class="headerlink" title="8. 创建图片的缩略图"></a>8. 创建图片的缩略图</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">private void createThumbnail(String filename, int thumbWidth, int thumbHeight, int quality, String outFilename)  </div><div class="line">        throws InterruptedException, FileNotFoundException, IOException  </div><div class="line">    &#123;  </div><div class="line">        // load image from filename  </div><div class="line">        Image image = Toolkit.getDefaultToolkit().getImage(filename);  </div><div class="line">        MediaTracker mediaTracker = new MediaTracker(new Container());  </div><div class="line">        mediaTracker.addImage(image, 0);  </div><div class="line">        mediaTracker.waitForID(0);  </div><div class="line">        // use this to test for errors at this point: System.out.println(mediaTracker.isErrorAny());  </div><div class="line"></div><div class="line">        // determine thumbnail size from WIDTH and HEIGHT  </div><div class="line">        double thumbRatio = (double)thumbWidth / (double)thumbHeight;  </div><div class="line">        int imageWidth = image.getWidth(null);  </div><div class="line">        int imageHeight = image.getHeight(null);  </div><div class="line">        double imageRatio = (double)imageWidth / (double)imageHeight;  </div><div class="line">        if (thumbRatio &lt; imageRatio) &#123;  </div><div class="line">            thumbHeight = (int)(thumbWidth / imageRatio);  </div><div class="line">        &#125; else &#123;  </div><div class="line">            thumbWidth = (int)(thumbHeight * imageRatio);  </div><div class="line">        &#125;  </div><div class="line"></div><div class="line">        // draw original image to thumbnail image object and  </div><div class="line">        // scale it to the new size on-the-fly  </div><div class="line">        BufferedImage thumbImage = new BufferedImage(thumbWidth, thumbHeight, BufferedImage.TYPE_INT_RGB);  </div><div class="line">        Graphics2D graphics2D = thumbImage.createGraphics();  </div><div class="line">        graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);  </div><div class="line">        graphics2D.drawImage(image, 0, 0, thumbWidth, thumbHeight, null);  </div><div class="line"></div><div class="line">        // save thumbnail image to outFilename  </div><div class="line">        BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(outFilename));  </div><div class="line">        JPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(out);  </div><div class="line">        JPEGEncodeParam param = encoder.getDefaultJPEGEncodeParam(thumbImage);  </div><div class="line">        quality = Math.max(0, Math.min(quality, 100));  </div><div class="line">        param.setQuality((float)quality / 100.0f, false);  </div><div class="line">        encoder.setJPEGEncodeParam(param);  </div><div class="line">        encoder.encode(thumbImage);  </div><div class="line">        out.close();  </div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h5 id="9-创建-JSON-格式的数据"><a href="#9-创建-JSON-格式的数据" class="headerlink" title="9. 创建 JSON 格式的数据"></a>9. 创建 JSON 格式的数据</h5><p>请先阅读 这篇文章 了解一些细节，</p>
<p>并下面这个JAR 文件： json-rpc-1.0.jar (75 kb)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">import org.json.JSONObject;  </div><div class="line">...  </div><div class="line">...  </div><div class="line">JSONObject json = new JSONObject();  </div><div class="line">json.put(&quot;city&quot;, &quot;Mumbai&quot;);  </div><div class="line">json.put(&quot;country&quot;, &quot;India&quot;);  </div><div class="line">...  </div><div class="line">String output = json.toString();  </div><div class="line">...</div></pre></td></tr></table></figure></p>
<h5 id="10-使用iText-JAR生成PDF"><a href="#10-使用iText-JAR生成PDF" class="headerlink" title="10. 使用iText JAR生成PDF"></a>10. 使用iText JAR生成PDF</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">import java.io.File;  </div><div class="line">import java.io.FileOutputStream;  </div><div class="line">import java.io.OutputStream;  </div><div class="line">import java.util.Date;  </div><div class="line"></div><div class="line">import com.lowagie.text.Document;  </div><div class="line">import com.lowagie.text.Paragraph;  </div><div class="line">import com.lowagie.text.pdf.PdfWriter;  </div><div class="line"></div><div class="line">public class GeneratePDF &#123;  </div><div class="line"></div><div class="line">    public static void main(String[] args) &#123;  </div><div class="line">        try &#123;  </div><div class="line">            OutputStream file = new FileOutputStream(new File(&quot;C:\\Test.pdf&quot;));  </div><div class="line"></div><div class="line">            Document document = new Document();  </div><div class="line">            PdfWriter.getInstance(document, file);  </div><div class="line">            document.open();  </div><div class="line">            document.add(new Paragraph(&quot;Hello Kiran&quot;));  </div><div class="line">            document.add(new Paragraph(new Date().toString()));  </div><div class="line"></div><div class="line">            document.close();  </div><div class="line">            file.close();  </div><div class="line"></div><div class="line">        &#125; catch (Exception e) &#123;  </div><div class="line"></div><div class="line">            e.printStackTrace();  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="11-HTTP-代理设置"><a href="#11-HTTP-代理设置" class="headerlink" title="11. HTTP 代理设置"></a>11. HTTP 代理设置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">System.getProperties().put(&quot;http.proxyHost&quot;, &quot;someProxyURL&quot;);  </div><div class="line">System.getProperties().put(&quot;http.proxyPort&quot;, &quot;someProxyPort&quot;);  </div><div class="line">System.getProperties().put(&quot;http.proxyUser&quot;, &quot;someUserName&quot;);  </div><div class="line">System.getProperties().put(&quot;http.proxyPassword&quot;, &quot;somePassword&quot;);</div></pre></td></tr></table></figure>
<h5 id="12-单实例Singleton-示例"><a href="#12-单实例Singleton-示例" class="headerlink" title="12. 单实例Singleton 示例"></a>12. 单实例Singleton 示例</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">public class SimpleSingleton &#123;  </div><div class="line">    private static SimpleSingleton singleInstance =  new SimpleSingleton();  </div><div class="line"></div><div class="line">    //Marking default constructor private  </div><div class="line">    //to avoid direct instantiation.  </div><div class="line">    private SimpleSingleton() &#123;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    //Get instance for class SimpleSingleton  </div><div class="line">    public static SimpleSingleton getInstance() &#123;  </div><div class="line"></div><div class="line">        return singleInstance;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>另一种实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public enum SimpleSingleton &#123;  </div><div class="line">    INSTANCE;  </div><div class="line">    public void doSomething() &#123;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"></div><div class="line">//Call the method from Singleton:  </div><div class="line">SimpleSingleton.INSTANCE.doSomething();</div></pre></td></tr></table></figure></p>
<h5 id="13-抓屏程序"><a href="#13-抓屏程序" class="headerlink" title="13. 抓屏程序"></a>13. 抓屏程序</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">import java.awt.Dimension;  </div><div class="line">import java.awt.Rectangle;  </div><div class="line">import java.awt.Robot;  </div><div class="line">import java.awt.Toolkit;  </div><div class="line">import java.awt.image.BufferedImage;  </div><div class="line">import javax.imageio.ImageIO;  </div><div class="line">import java.io.File;  </div><div class="line"></div><div class="line">...  </div><div class="line"></div><div class="line">public void captureScreen(String fileName) throws Exception &#123;  </div><div class="line"></div><div class="line">   Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();  </div><div class="line">   Rectangle screenRectangle = new Rectangle(screenSize);  </div><div class="line">   Robot robot = new Robot();  </div><div class="line">   BufferedImage image = robot.createScreenCapture(screenRectangle);  </div><div class="line">   ImageIO.write(image, &quot;png&quot;, new File(fileName));  </div><div class="line"></div><div class="line">&#125;  </div><div class="line">...</div></pre></td></tr></table></figure>
<h5 id="14-列出文件和目录"><a href="#14-列出文件和目录" class="headerlink" title="14. 列出文件和目录"></a>14. 列出文件和目录</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">File dir = new File(&quot;directoryName&quot;);  </div><div class="line">  String[] children = dir.list();  </div><div class="line">  if (children == null) &#123;  </div><div class="line">      // Either dir does not exist or is not a directory  </div><div class="line">  &#125; else &#123;  </div><div class="line">      for (int i=0; i &lt; children.length; i++) &#123;  </div><div class="line">          // Get filename of file or directory  </div><div class="line">          String filename = children[i];  </div><div class="line">      &#125;  </div><div class="line">  &#125;  </div><div class="line"></div><div class="line">  // It is also possible to filter the list of returned files.  </div><div class="line">  // This example does not return any files that start with `.&apos;.  </div><div class="line">  FilenameFilter filter = new FilenameFilter() &#123;  </div><div class="line">      public boolean accept(File dir, String name) &#123;  </div><div class="line">          return !name.startsWith(&quot;.&quot;);  </div><div class="line">      &#125;  </div><div class="line">  &#125;;  </div><div class="line">  children = dir.list(filter);  </div><div class="line"></div><div class="line">  // The list of files can also be retrieved as File objects  </div><div class="line">  File[] files = dir.listFiles();  </div><div class="line"></div><div class="line">  // This filter only returns directories  </div><div class="line">  FileFilter fileFilter = new FileFilter() &#123;  </div><div class="line">      public boolean accept(File file) &#123;  </div><div class="line">          return file.isDirectory();  </div><div class="line">      &#125;  </div><div class="line">  &#125;;  </div><div class="line">  files = dir.listFiles(fileFilter);</div></pre></td></tr></table></figure>
<h5 id="15-创建ZIP和JAR文件"><a href="#15-创建ZIP和JAR文件" class="headerlink" title="15. 创建ZIP和JAR文件"></a>15. 创建ZIP和JAR文件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line">import java.util.zip.*;  </div><div class="line">import java.io.*;  </div><div class="line"></div><div class="line">public class ZipIt &#123;  </div><div class="line">    public static void main(String args[]) throws IOException &#123;  </div><div class="line">        if (args.length &lt; 2) &#123;  </div><div class="line">            System.err.println(&quot;usage: java ZipIt Zip.zip file1 file2 file3&quot;);  </div><div class="line">            System.exit(-1);  </div><div class="line">        &#125;  </div><div class="line">        File zipFile = new File(args[0]);  </div><div class="line">        if (zipFile.exists()) &#123;  </div><div class="line">            System.err.println(&quot;Zip file already exists, please try another&quot;);  </div><div class="line">            System.exit(-2);  </div><div class="line">        &#125;  </div><div class="line">        FileOutputStream fos = new FileOutputStream(zipFile);  </div><div class="line">        ZipOutputStream zos = new ZipOutputStream(fos);  </div><div class="line">        int bytesRead;  </div><div class="line">        byte[] buffer = new byte[1024];  </div><div class="line">        CRC32 crc = new CRC32();  </div><div class="line">        for (int i=1, n=args.length; i &lt; n; i++) &#123;  </div><div class="line">            String name = args[i];  </div><div class="line">            File file = new File(name);  </div><div class="line">            if (!file.exists()) &#123;  </div><div class="line">                System.err.println(&quot;Skipping: &quot; + name);  </div><div class="line">                continue;  </div><div class="line">            &#125;  </div><div class="line">            BufferedInputStream bis = new BufferedInputStream(  </div><div class="line">                new FileInputStream(file));  </div><div class="line">            crc.reset();  </div><div class="line">            while ((bytesRead = bis.read(buffer)) != -1) &#123;  </div><div class="line">                crc.update(buffer, 0, bytesRead);  </div><div class="line">            &#125;  </div><div class="line">            bis.close();  </div><div class="line">            // Reset to beginning of input stream  </div><div class="line">            bis = new BufferedInputStream(  </div><div class="line">                new FileInputStream(file));  </div><div class="line">            ZipEntry entry = new ZipEntry(name);  </div><div class="line">            entry.setMethod(ZipEntry.STORED);  </div><div class="line">            entry.setCompressedSize(file.length());  </div><div class="line">            entry.setSize(file.length());  </div><div class="line">            entry.setCrc(crc.getValue());  </div><div class="line">            zos.putNextEntry(entry);  </div><div class="line">            while ((bytesRead = bis.read(buffer)) != -1) &#123;  </div><div class="line">                zos.write(buffer, 0, bytesRead);  </div><div class="line">            &#125;  </div><div class="line">            bis.close();  </div><div class="line">        &#125;  </div><div class="line">        zos.close();  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="16-解析-读取XML-文件"><a href="#16-解析-读取XML-文件" class="headerlink" title="16. 解析/读取XML 文件"></a>16. 解析/读取XML 文件</h5><p>XML文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot;?&gt; </div><div class="line">&lt;students&gt; </div><div class="line">    &lt;student&gt; </div><div class="line">        &lt;name&gt;John&lt;/name&gt; </div><div class="line">        &lt;grade&gt;B&lt;/grade&gt; </div><div class="line">        &lt;age&gt;12&lt;/age&gt; </div><div class="line">    &lt;/student&gt; </div><div class="line">    &lt;student&gt; </div><div class="line">        &lt;name&gt;Mary&lt;/name&gt; </div><div class="line">        &lt;grade&gt;A&lt;/grade&gt; </div><div class="line">        &lt;age&gt;11&lt;/age&gt; </div><div class="line">    &lt;/student&gt; </div><div class="line">    &lt;student&gt; </div><div class="line">        &lt;name&gt;Simon&lt;/name&gt; </div><div class="line">        &lt;grade&gt;A&lt;/grade&gt; </div><div class="line">        &lt;age&gt;18&lt;/age&gt; </div><div class="line">    &lt;/student&gt; </div><div class="line">&lt;/students&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line">package net.viralpatel.java.xmlparser;  </div><div class="line"></div><div class="line">import java.io.File;  </div><div class="line">import javax.xml.parsers.DocumentBuilder;  </div><div class="line">import javax.xml.parsers.DocumentBuilderFactory;  </div><div class="line"></div><div class="line">import org.w3c.dom.Document;  </div><div class="line">import org.w3c.dom.Element;  </div><div class="line">import org.w3c.dom.Node;  </div><div class="line">import org.w3c.dom.NodeList;  </div><div class="line"></div><div class="line">public class XMLParser &#123;  </div><div class="line"></div><div class="line">    public void getAllUserNames(String fileName) &#123;  </div><div class="line">        try &#123;  </div><div class="line">            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();  </div><div class="line">            DocumentBuilder db = dbf.newDocumentBuilder();  </div><div class="line">            File file = new File(fileName);  </div><div class="line">            if (file.exists()) &#123;  </div><div class="line">                Document doc = db.parse(file);  </div><div class="line">                Element docEle = doc.getDocumentElement();  </div><div class="line"></div><div class="line">                // Print root element of the document  </div><div class="line">                System.out.println(&quot;Root element of the document: &quot; </div><div class="line">                        + docEle.getNodeName());  </div><div class="line"></div><div class="line">                NodeList studentList = docEle.getElementsByTagName(&quot;student&quot;);  </div><div class="line"></div><div class="line">                // Print total student elements in document  </div><div class="line">                System.out  </div><div class="line">                        .println(&quot;Total students: &quot; + studentList.getLength());  </div><div class="line"></div><div class="line">                if (studentList != null &amp;&amp; studentList.getLength() &gt; 0) &#123;  </div><div class="line">                    for (int i = 0; i &lt; studentList.getLength(); i++) &#123;  </div><div class="line"></div><div class="line">                        Node node = studentList.item(i);  </div><div class="line"></div><div class="line">                        if (node.getNodeType() == Node.ELEMENT_NODE) &#123;  </div><div class="line"></div><div class="line">                            System.out  </div><div class="line">                                    .println(&quot;=====================&quot;);  </div><div class="line"></div><div class="line">                            Element e = (Element) node;  </div><div class="line">                            NodeList nodeList = e.getElementsByTagName(&quot;name&quot;);  </div><div class="line">                            System.out.println(&quot;Name: &quot; </div><div class="line">                                    + nodeList.item(0).getChildNodes().item(0)  </div><div class="line">                                            .getNodeValue());  </div><div class="line"></div><div class="line">                            nodeList = e.getElementsByTagName(&quot;grade&quot;);  </div><div class="line">                            System.out.println(&quot;Grade: &quot; </div><div class="line">                                    + nodeList.item(0).getChildNodes().item(0)  </div><div class="line">                                            .getNodeValue());  </div><div class="line"></div><div class="line">                            nodeList = e.getElementsByTagName(&quot;age&quot;);  </div><div class="line">                            System.out.println(&quot;Age: &quot; </div><div class="line">                                    + nodeList.item(0).getChildNodes().item(0)  </div><div class="line">                                            .getNodeValue());  </div><div class="line">                        &#125;  </div><div class="line">                    &#125;  </div><div class="line">                &#125; else &#123;  </div><div class="line">                    System.exit(1);  </div><div class="line">                &#125;  </div><div class="line">            &#125;  </div><div class="line">        &#125; catch (Exception e) &#123;  </div><div class="line">            System.out.println(e);  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    public static void main(String[] args) &#123;  </div><div class="line"></div><div class="line">        XMLParser parser = new XMLParser();  </div><div class="line">        parser.getAllUserNames(&quot;c:\\test.xml&quot;);  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="17-把-Array-转换成-Map"><a href="#17-把-Array-转换成-Map" class="headerlink" title="17. 把 Array 转换成 Map"></a>17. 把 Array 转换成 Map</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">import java.util.Map;  </div><div class="line">import org.apache.commons.lang.ArrayUtils;  </div><div class="line"></div><div class="line">public class Main &#123;  </div><div class="line"></div><div class="line">  public static void main(String[] args) &#123;  </div><div class="line">    String[][] countries = &#123; &#123; &quot;United States&quot;, &quot;New York&quot; &#125;, &#123; &quot;United Kingdom&quot;, &quot;London&quot; &#125;,  </div><div class="line">        &#123; &quot;Netherland&quot;, &quot;Amsterdam&quot; &#125;, &#123; &quot;Japan&quot;, &quot;Tokyo&quot; &#125;, &#123; &quot;France&quot;, &quot;Paris&quot; &#125; &#125;;  </div><div class="line"></div><div class="line">    Map countryCapitals = ArrayUtils.toMap(countries);  </div><div class="line"></div><div class="line">    System.out.println(&quot;Capital of Japan is &quot; + countryCapitals.get(&quot;Japan&quot;));  </div><div class="line">    System.out.println(&quot;Capital of France is &quot; + countryCapitals.get(&quot;France&quot;));  </div><div class="line">  &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="18-发送邮件"><a href="#18-发送邮件" class="headerlink" title="18. 发送邮件"></a>18. 发送邮件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">import javax.mail.*;  </div><div class="line">import javax.mail.internet.*;  </div><div class="line">import java.util.*;  </div><div class="line"></div><div class="line">public void postMail( String recipients[ ], String subject, String message , String from) throws MessagingException  </div><div class="line">&#123;  </div><div class="line">    boolean debug = false;  </div><div class="line"></div><div class="line">     //Set the host smtp address  </div><div class="line">     Properties props = new Properties();  </div><div class="line">     props.put(&quot;mail.smtp.host&quot;, &quot;smtp.example.com&quot;);  </div><div class="line"></div><div class="line">    // create some properties and get the default Session  </div><div class="line">    Session session = Session.getDefaultInstance(props, null);  </div><div class="line">    session.setDebug(debug);  </div><div class="line"></div><div class="line">    // create a message  </div><div class="line">    Message msg = new MimeMessage(session);  </div><div class="line"></div><div class="line">    // set the from and to address  </div><div class="line">    InternetAddress addressFrom = new InternetAddress(from);  </div><div class="line">    msg.setFrom(addressFrom);  </div><div class="line"></div><div class="line">    InternetAddress[] addressTo = new InternetAddress[recipients.length];  </div><div class="line">    for (int i = 0; i &lt; recipients.length; i++)  </div><div class="line">    &#123;  </div><div class="line">        addressTo[i] = new InternetAddress(recipients[i]);  </div><div class="line">    &#125;  </div><div class="line">    msg.setRecipients(Message.RecipientType.TO, addressTo);  </div><div class="line"></div><div class="line">    // Optional : You can also set your custom headers in the Email if you Want  </div><div class="line">    msg.addHeader(&quot;MyHeaderName&quot;, &quot;myHeaderValue&quot;);  </div><div class="line"></div><div class="line">    // Setting the Subject and Content Type  </div><div class="line">    msg.setSubject(subject);  </div><div class="line">    msg.setContent(message, &quot;text/plain&quot;);  </div><div class="line">    Transport.send(msg);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="19-发送代数据的HTTP-请求"><a href="#19-发送代数据的HTTP-请求" class="headerlink" title="19. 发送代数据的HTTP 请求"></a>19. 发送代数据的HTTP 请求</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">import java.io.BufferedReader;  </div><div class="line">import java.io.InputStreamReader;  </div><div class="line">import java.net.URL;  </div><div class="line"></div><div class="line">public class Main &#123;  </div><div class="line">    public static void main(String[] args)  &#123;  </div><div class="line">        try &#123;  </div><div class="line">            URL my_url = new URL(&quot;http://coolshell.cn/&quot;);  </div><div class="line">            BufferedReader br = new BufferedReader(new InputStreamReader(my_url.openStream()));  </div><div class="line">            String strTemp = &quot;&quot;;  </div><div class="line">            while(null != (strTemp = br.readLine()))&#123;  </div><div class="line">            System.out.println(strTemp);  </div><div class="line">        &#125;  </div><div class="line">        &#125; catch (Exception ex) &#123;  </div><div class="line">            ex.printStackTrace();  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="20-改变数组的大小"><a href="#20-改变数组的大小" class="headerlink" title="20. 改变数组的大小"></a>20. 改变数组的大小</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">/** </div><div class="line">* Reallocates an array with a new size, and copies the contents </div><div class="line">* of the old array to the new array. </div><div class="line">* @param oldArray  the old array, to be reallocated. </div><div class="line">* @param newSize   the new array size. </div><div class="line">* @return          A new array with the same contents. </div><div class="line">*/ </div><div class="line">private static Object resizeArray (Object oldArray, int newSize) &#123;  </div><div class="line">   int oldSize = java.lang.reflect.Array.getLength(oldArray);  </div><div class="line">   Class elementType = oldArray.getClass().getComponentType();  </div><div class="line">   Object newArray = java.lang.reflect.Array.newInstance(  </div><div class="line">         elementType,newSize);  </div><div class="line">   int preserveLength = Math.min(oldSize,newSize);  </div><div class="line">   if (preserveLength &gt; 0)  </div><div class="line">      System.arraycopy (oldArray,0,newArray,0,preserveLength);  </div><div class="line">   return newArray;  </div><div class="line">&#125;  </div><div class="line"></div><div class="line">// Test routine for resizeArray().  </div><div class="line">public static void main (String[] args) &#123;  </div><div class="line">   int[] a = &#123;1,2,3&#125;;  </div><div class="line">   a = (int[])resizeArray(a,5);  </div><div class="line">   a[3] = 4;  </div><div class="line">   a[4] = 5;  </div><div class="line">   for (int i=0; i&lt;a.length; i++)  </div><div class="line">      System.out.println (a[i]);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
  
  <div class="categories">
    <a href="/syfight/categories/java/">java</a>
  </div>

        
  
  <div class="tags">
    <a href="/syfight/tags/java/">java</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






<nav id="pagination">
  
</nav>
</div></div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2017 Smith°
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<!--<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>--></footer>
</div>
  <script src="/syfight/js/jquery.js"></script>
<script src="/syfight/js/jquery.imagesloaded.min.js"></script>
<script src="/syfight/js/gallery.js"></script>
<script src="/syfight/fancybox/jquery.fancybox.pack.js"></script>


<link rel="stylesheet" href="/syfight/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<!--<div id='bg'></div>-->
<div class="landscape"></div>
<div class="filter">

</div><div id="link" class="site-tree-mobile layui-hide">
  <i class="layui-icon"></i>
</div>
<div class="mask" id="mask"></div>
<canvas id="canvas" style="position: fixed;top:0;left:0px;"></canvas>

<script src="/syfight/js/miss.js"></script>
</body>
</html>